apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: transcode

resources:
  # Base resources
  - namespace.yaml
  - configmap.yaml
  - secrets.yaml

  # Data stores
  - postgres/statefulset.yaml
  - redis/statefulset.yaml
  - minio/deployment.yaml

  # Application services
  - api/deployment.yaml
  - graphql/deployment.yaml
  - worker/deployment.yaml
  - worker/hpa.yaml

  # Monitoring
  - monitoring/prometheus.yaml
  - monitoring/grafana.yaml
